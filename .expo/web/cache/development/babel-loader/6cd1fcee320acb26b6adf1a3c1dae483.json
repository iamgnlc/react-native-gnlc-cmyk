{"ast":null,"code":"import React, { useEffect } from 'react';\nimport ExpoKeepAwake from \"./ExpoKeepAwake\";\nlet __keepAwakeMountedCount = 0;\nconst ExpoKeepAwakeTag = 'ExpoKeepAwakeDefaultTag';\nexport default class KeepAwake extends React.PureComponent {\n  componentDidMount() {\n    console.warn(\"The KeepAwake component has been deprecated in favor of the useKeepAwake hook and will be removed in SDK 35\");\n    __keepAwakeMountedCount++;\n\n    if (__keepAwakeMountedCount === 1) {\n      activateKeepAwake();\n    }\n  }\n\n  componentWillUnmount() {\n    __keepAwakeMountedCount--;\n\n    if (__keepAwakeMountedCount === 0) {\n      deactivateKeepAwake();\n    }\n  }\n\n  render() {\n    return null;\n  }\n\n}\n\nKeepAwake.activate = tag => {\n  console.warn(\"The \\\"KeepAwake.activate\\\" static method has been deprecated in favor of the \\\"activateKeepAwake\\\" function exported from expo-keep-awake and will be removed in SDK 35\");\n  activateKeepAwake(tag);\n};\n\nKeepAwake.deactivate = tag => {\n  console.warn(\"The \\\"KeepAwake.deactivate\\\" static method has been deprecated in favor of the \\\"deactivateKeepAwake\\\" function exported from expo-keep-awake and will be removed in SDK 35\");\n  deactivateKeepAwake(tag);\n};\n\nexport function useKeepAwake() {\n  let tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ExpoKeepAwakeTag;\n  useEffect(() => {\n    activateKeepAwake(tag);\n    return () => deactivateKeepAwake(tag);\n  }, [tag]);\n}\nexport function activateKeepAwake() {\n  let tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ExpoKeepAwakeTag;\n  ExpoKeepAwake.activate(tag);\n}\nexport function deactivateKeepAwake() {\n  let tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ExpoKeepAwakeTag;\n  ExpoKeepAwake.deactivate(tag);\n}\nexport function activate(tag) {\n  console.warn(\"\\\"activate\\\" from expo-keep-awake has been deprecated in favor of \\\"activateKeepAwake\\\" and will be removed in SDK 35\");\n  activateKeepAwake(tag);\n}\nexport function deactivate(tag) {\n  console.warn(\"\\\"deactivate\\\" from expo-keep-awake has been deprecated in favor of \\\"deactivateKeepAwake\\\" and will be removed in SDK 35\");\n  deactivateKeepAwake(tag);\n}","map":{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAP,IAAgB,SAAhB,QAAiC,OAAjC;AACA,OAAO,aAAP;AAIA,IAAI,uBAAuB,GAAG,CAA9B;AACA,MAAM,gBAAgB,GAAG,yBAAzB;AAEA,eAAc,MAAO,SAAP,SAAyB,KAAK,CAAC,aAA/B,CAA4C;AAexD,EAAA,iBAAiB,GAAA;AACf,IAAA,OAAO,CAAC,IAAR;AAGA,IAAA,uBAAuB;;AACvB,QAAI,uBAAuB,KAAK,CAAhC,EAAmC;AACjC,MAAA,iBAAiB;AAClB;AACF;;AAED,EAAA,oBAAoB,GAAA;AAClB,IAAA,uBAAuB;;AACvB,QAAI,uBAAuB,KAAK,CAAhC,EAAmC;AACjC,MAAA,mBAAmB;AACpB;AACF;;AAED,EAAA,MAAM,GAAA;AACJ,WAAO,IAAP;AACD;;AAlCuD;;AACjD,SAAA,CAAA,QAAA,GAAY,GAAD,IAAuB;AACvC,EAAA,OAAO,CAAC,IAAR;AAGA,EAAA,iBAAiB,CAAC,GAAD,CAAjB;AACD,CALM;;AAOA,SAAA,CAAA,UAAA,GAAc,GAAD,IAAuB;AACzC,EAAA,OAAO,CAAC,IAAR;AAGA,EAAA,mBAAmB,CAAC,GAAD,CAAnB;AACD,CALM;;AA6BT,OAAM,SAAU,YAAV,GAAqD;AAAA,MAA9B,GAA8B,uEAAhB,gBAAgB;AACzD,EAAA,SAAS,CAAC,MAAK;AACb,IAAA,iBAAiB,CAAC,GAAD,CAAjB;AACA,WAAO,MAAM,mBAAmB,CAAC,GAAD,CAAhC;AACD,GAHQ,EAGN,CAAC,GAAD,CAHM,CAAT;AAID;AAED,OAAM,SAAU,iBAAV,GAA0D;AAAA,MAA9B,GAA8B,uEAAhB,gBAAgB;AAC9D,EAAA,aAAa,CAAC,QAAd,CAAuB,GAAvB;AACD;AAED,OAAM,SAAU,mBAAV,GAA4D;AAAA,MAA9B,GAA8B,uEAAhB,gBAAgB;AAChE,EAAA,aAAa,CAAC,UAAd,CAAyB,GAAzB;AACD;AAED,OAAM,SAAU,QAAV,CAAmB,GAAnB,EAA+B;AACnC,EAAA,OAAO,CAAC,IAAR;AAGA,EAAA,iBAAiB,CAAC,GAAD,CAAjB;AACD;AAED,OAAM,SAAU,UAAV,CAAqB,GAArB,EAAiC;AACrC,EAAA,OAAO,CAAC,IAAR;AAGA,EAAA,mBAAmB,CAAC,GAAD,CAAnB;AACD","sourcesContent":["import React, { useEffect } from 'react';\nimport ExpoKeepAwake from './ExpoKeepAwake';\n\n// NOTE(brentvatne): in tests this value won't be reset because we can render a component and never\n// unmount it.\nlet __keepAwakeMountedCount = 0;\nconst ExpoKeepAwakeTag = 'ExpoKeepAwakeDefaultTag';\n\nexport default class KeepAwake extends React.PureComponent {\n  static activate = (tag?: string): void => {\n    console.warn(\n      `The \"KeepAwake.activate\" static method has been deprecated in favor of the \"activateKeepAwake\" function exported from expo-keep-awake and will be removed in SDK 35`\n    );\n    activateKeepAwake(tag);\n  };\n\n  static deactivate = (tag?: string): void => {\n    console.warn(\n      `The \"KeepAwake.deactivate\" static method has been deprecated in favor of the \"deactivateKeepAwake\" function exported from expo-keep-awake and will be removed in SDK 35`\n    );\n    deactivateKeepAwake(tag);\n  };\n\n  componentDidMount() {\n    console.warn(\n      `The KeepAwake component has been deprecated in favor of the useKeepAwake hook and will be removed in SDK 35`\n    );\n    __keepAwakeMountedCount++;\n    if (__keepAwakeMountedCount === 1) {\n      activateKeepAwake();\n    }\n  }\n\n  componentWillUnmount() {\n    __keepAwakeMountedCount--;\n    if (__keepAwakeMountedCount === 0) {\n      deactivateKeepAwake();\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport function useKeepAwake(tag: string = ExpoKeepAwakeTag): void {\n  useEffect(() => {\n    activateKeepAwake(tag);\n    return () => deactivateKeepAwake(tag);\n  }, [tag]);\n}\n\nexport function activateKeepAwake(tag: string = ExpoKeepAwakeTag): void {\n  ExpoKeepAwake.activate(tag);\n}\n\nexport function deactivateKeepAwake(tag: string = ExpoKeepAwakeTag): void {\n  ExpoKeepAwake.deactivate(tag);\n}\n\nexport function activate(tag?: string): void {\n  console.warn(\n    `\"activate\" from expo-keep-awake has been deprecated in favor of \"activateKeepAwake\" and will be removed in SDK 35`\n  );\n  activateKeepAwake(tag);\n}\n\nexport function deactivate(tag?: string): void {\n  console.warn(\n    `\"deactivate\" from expo-keep-awake has been deprecated in favor of \"deactivateKeepAwake\" and will be removed in SDK 35`\n  );\n  deactivateKeepAwake(tag);\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}